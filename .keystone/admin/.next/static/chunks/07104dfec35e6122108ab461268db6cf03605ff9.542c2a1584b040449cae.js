(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"35je":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("cxan"),o=n("HbGN"),a=n("J8OT"),i=n("ERkP"),c=n("I0W7");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=e=>{let{tone:t,weight:n,onClick:i,tabIndex:c}=e,l=Object(o.a)(e,["tone","weight","onClick","tabIndex"]);const{radii:s,spacing:u,tones:b,typography:g}=Object(a.t)(),f=!!i,O=b[t],j={bold:{background:O.fill[0],foreground:O.fillForeground[0],focus:{shadow:`0 0 0 2px ${O.focusRing}`},hover:{background:O.fill[1]},active:{background:O.fill[2]}},light:{background:O.tint[0],foreground:O.foreground[0],focus:{shadow:`0 0 0 2px ${O.focusRing}`},hover:{foreground:O.foreground[1],background:O.tint[1]},active:{foreground:O.foreground[2],background:O.tint[2]}}}[n],p={alignItems:"center",appearance:"none",background:"none",backgroundColor:j.background,border:0,color:j.foreground,display:"flex",fontSize:g.fontSize.small,fontWeight:g.fontWeight.medium,justifyContent:"center",maxWidth:"100%",minWidth:1,outline:0,padding:`${u.small}px ${u.medium}px`,":first-of-type":{paddingRight:u.small,borderTopLeftRadius:s.full,borderBottomLeftRadius:s.full,marginRight:1},":last-of-type":{paddingLeft:u.small,borderTopRightRadius:s.full,borderBottomRightRadius:s.full},":only-of-type":{paddingLeft:u.medium,paddingRight:u.medium}},m=f?{cursor:"pointer",":focus":{boxShadow:j.focus.shadow},":hover,:focus":{backgroundColor:j.hover.background,color:j.hover.foreground},":active":{backgroundColor:j.active.background,color:j.active.foreground}}:{};return Object(a.n)("button",Object(r.a)({css:d(d({},p),m),onClick:i,tabIndex:f?c:-1},l))},b=Object(i.forwardRef)(((e,t)=>{let{weight:n="bold",tone:i="active",children:l,onClick:s,onRemove:d}=e,b=Object(o.a)(e,["weight","tone","children","onClick","onRemove"]);return console.log(s),Object(a.n)("div",Object(r.a)({css:{display:"flex"}},b,{ref:t}),Object(a.n)(u,{weight:n,tone:i,onClick:s},l),d?Object(a.n)(u,{weight:n,tone:i,onClick:d},Object(a.n)(c.a,{css:{height:14,width:14}})):null)}))},Ax7X:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return S}));var r=n("cxan"),o=n("J8OT"),a=n("ERkP"),i=n.n(a),c=n("HbGN"),l=n("Xr+X"),s=n("rkyN"),d=n("ALBq"),u=n("RxMK"),b=n("d01W"),g=n("rjhH"),f=n("3jXu"),O=n("q9nS"),j=n("UgQ6"),p=n.n(j),m=n("4/oc");const h=()=>{var e;const{headingStyles:t}=Object(o.t)(),{adminConfig:n}=Object(f.b)();return null!==(e=n.components)&&void 0!==e&&e.Logo?Object(o.n)(n.components.Logo,null):Object(o.n)(o.f,null,Object(o.n)(p.a,{href:"/",passHref:!0},Object(o.n)("a",{css:{color:t.h3.color,textDecoration:"none"}},"KeystoneJS")))},v=({href:e,children:t})=>{const{palette:n,spacing:r,radii:a,typography:i}=Object(o.t)(),c=Object(l.useRouter)(),s=c.pathname===e||c.pathname.split("/")[1]===e.split("/")[1];return Object(o.n)(O.a,{"aria-current":!!s&&"location",href:e,css:{background:"transparent",borderBottomRightRadius:a.xsmall,borderTopRightRadius:a.xsmall,color:n.neutral700,display:"block",fontWeight:i.fontWeight.medium,marginBottom:r.xsmall,marginRight:r.xlarge,padding:`${r.small}px ${r.xlarge}px`,position:"relative",textDecoration:"none",":hover":{background:n.blue50,color:n.blue500},"&[aria-current=location]":{background:n.neutral200,color:n.neutral900}}},t)},y=({item:e})=>{const{spacing:t,typography:n}=Object(o.t)();return Object(o.n)("div",{css:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:t.xlarge}},Object(o.n)("div",{css:{fontSize:n.fontSize.small}},"Signed in as ",Object(o.n)("strong",null,e.label)),Object(o.n)(d.a,{placement:"bottom",triggerRenderer:({triggerProps:e})=>Object(o.n)(s.a,Object(r.a)({size:"small",style:{padding:0,width:36},"aria-label":"Links and signout"},e),Object(o.n)(u.a,null))},Object(o.n)(o.j,{gap:"medium",padding:"large",dividers:"between"},Object(o.n)(k,{target:"_blank",href:"/api/graphql"},"API Explorer"),Object(o.n)(k,{target:"_blank",href:"https://github.com/keystonejs/keystone"},"GitHub Repository"),Object(o.n)(k,{target:"_blank",href:"https://www.keystonejs.com/documentation"},"Keystone Documentation"),Object(o.n)(g.a,null))))},k=e=>{let{children:t}=e,n=Object(c.a)(e,["children"]);const{typography:a}=Object(o.t)();return Object(o.n)("a",Object(r.a)({css:{alignItems:"center",display:"flex",fontSize:a.fontSize.small,textDecoration:"none"}},n),t,Object(o.n)(b.a,{size:"small"}))},x=()=>{const{adminMeta:{lists:e},authenticatedItem:t,visibleLists:n}=Object(f.b)();return Object(o.n)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center"}},"authenticated"===t.state&&Object(o.n)(y,{item:t}),Object(o.n)("nav",null,Object(o.n)(v,{href:"/"},"Dashboard"),"loading"===n.state?null:"error"===n.state?Object(o.n)("span",{css:{color:"red"}},n.error instanceof Error?n.error.message:n.error[0].message):Object.keys(e).map((t=>{if(!n.lists.has(t))return null;const r=e[t];return Object(o.n)(v,{key:t,href:`/${r.path}`},e[t].label)}))))},w=80,E=e=>Object(o.n)(a.Fragment,null,Object(o.n)("style",null,"body { overflow: hidden; }"),Object(o.n)("div",Object(r.a)({css:{display:"grid",gridTemplateColumns:"minmax(300px, 1fr) 4fr",gridTemplateRows:`${w}px auto`,height:"100vh"}},e))),R=e=>Object(o.n)("aside",Object(r.a)({css:{minWidth:0,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e)),C=e=>{const{colors:t,spacing:n}=Object(o.t)();return Object(o.n)("main",Object(r.a)({css:{backgroundColor:t.background,boxSizing:"border-box",minWidth:0,paddingLeft:n.xlarge,paddingRight:n.xlarge,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e))},S=({children:e,header:t})=>{const{colors:n,spacing:r}=Object(o.t)();return Object(o.n)(E,null,Object(o.n)("div",{css:{alignItems:"center",borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",paddingLeft:r.xlarge,paddingRight:r.xlarge}},Object(o.n)(h,null)),Object(o.n)("header",{css:{alignItems:"center",backgroundColor:n.background,borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",minWidth:0,paddingLeft:r.xlarge,paddingRight:r.xlarge}},t),Object(o.n)(R,null,Object(o.n)(x,null)),Object(o.n)(C,null,e))};function P({errors:e,networkError:t}){return t?i.a.createElement(m.a,{tone:"negative"},t.message):null!==e&&void 0!==e&&e.length?i.a.createElement(o.j,{gap:"small"},e.map((e=>{var t,n;const r=e;return"ValidationFailureError"===e.name&&null!==(t=r.data)&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length?r.data.messages.map((e=>i.a.createElement(m.a,{tone:"negative"},e))):i.a.createElement(m.a,{tone:"negative"},e.message)}))):null}},DAgO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("T0aG"),o=n.n(r);function a(e){var t=function(e,t){if("object"!==o()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o()(t)?t:String(t)}},RxMK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ERkP"),o=(n("97Jx"),n("m3Bd"),n("J8OT"),n("s3d4"));const a=Object(o.a)(Object(r.createElement)(r.Fragment,null,Object(r.createElement)("circle",{cx:12,cy:12,r:1}),Object(r.createElement)("circle",{cx:19,cy:12,r:1}),Object(r.createElement)("circle",{cx:5,cy:12,r:1})),"MoreHorizontalIcon")},ZP4Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("Czhu"),o=n("ERkP"),a=n("b2e3"),i=n.n(a),c=n("J8OT"),l=n("olln"),s=n("yTkC"),d=n("+C6t"),u=n("xiH9"),b=n("Z4DO"),g=n("3jXu"),f=n("Ax7X");function O({listKey:e,onClose:t,onCreate:n}){const{createViewFieldModes:a}=Object(g.b)(),O=Object(g.c)(e),j=Object(s.b)(),[p,{loading:m,error:h}]=Object(u.a)(b.d`mutation($data: ${O.gqlNames.createInputName}!) {
      item: ${O.gqlNames.createMutationName}(data: $data) {
        id
        label: ${O.labelField}
    }
  }`),[v,y]=Object(o.useState)((()=>{const e={};return Object.keys(O.fields).forEach((t=>{e[t]=O.fields[t].controller.defaultValue})),e})),k=Object(o.useMemo)((()=>{const e=new Set;return Object.keys(v).forEach((t=>{const n=v[t],r=O.fields[t].controller.validate;if(r){!1===r(n)&&e.add(t)}})),e}),[O,v]),[x,w]=Object(o.useState)(!1),E=Object.keys(O.fields).filter((t=>"loaded"===a.state&&"hidden"!==a.lists[e][t])).map(((e,t)=>{const n=O.fields[e];return Object(c.n)(n.views.Field,{key:e,field:n.controller,value:v[e],forceValidation:x&&k.has(e),onChange:t=>{y(Object(r.a)(Object(r.a)({},v),{},{[e]:t}))},autoFocus:0===t})}));return Object(c.n)(l.b,{title:`Create ${O.singular}`,width:"wide",actions:{confirm:{label:`Create ${O.singular}`,loading:m,action:()=>{const e=0!==k.size;if(w(e),e)return;const t={};Object.keys(O.fields).forEach((e=>{const{controller:n}=O.fields[e],r=n.serialize(v[e]);i()(r,n.serialize(n.defaultValue))||Object.assign(t,r)})),p({variables:{data:t}}).then((({data:e})=>{const t=e.item.label||e.item.id;n({id:e.item.id,label:t}),j.addToast({title:t,message:"Created Successfully",tone:"positive"})})).catch((()=>{}))}},cancel:{label:"Cancel",action:t}}},"error"===a.state&&Object(c.n)(f.a,{networkError:a.error instanceof Error?a.error:void 0,errors:a.error instanceof Error?void 0:a.error}),"loading"===a.state&&Object(c.n)(d.a,{label:"Loading create form"}),h&&Object(c.n)(f.a,{networkError:null===h||void 0===h?void 0:h.networkError,errors:null===h||void 0===h?void 0:h.graphQLErrors}),Object(c.n)(c.j,{gap:"xlarge",paddingY:"xlarge"},E,0===E.length&&"There are no fields that you can read or edit"))}},d01W:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ERkP"),o=(n("97Jx"),n("m3Bd"),n("J8OT"),n("s3d4"));const a=Object(o.a)(Object(r.createElement)("polyline",{points:"9 18 15 12 9 6"}),"ChevronRightIcon")},oGee:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cxan"),o=n("J8OT"),a=n("q9nS");const i=e=>{const{colors:t,spacing:n}=Object(o.t)();return Object(o.n)(a.a,Object(r.a)({css:{color:t.foreground,display:"block",padding:n.small,textDecoration:"none",":hover":{textDecoration:"underline"}}},e))}},rjhH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("J8OT"),o=n("rkyN"),a=n("ERkP"),i=n("Z4DO"),c=n("xiH9");const l=i.d`
  mutation EndSession {
    endSession
  }
`,s=({children:e})=>{const[t,{loading:n,data:i}]=Object(c.a)(l);return Object(a.useEffect)((()=>{null!==i&&void 0!==i&&i.endSession&&window.location.reload()}),[i]),Object(r.n)(o.a,{size:"small",isLoading:n,onClick:()=>t()},e||"Sign out")}}}]);